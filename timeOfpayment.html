<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <a id="hours">10</a>：<a id="miniter">00</a>：<a id="time">00</a>
    <script>
    window.onload=function(){
        var input = document.getElementsByTagName('input');
        var timer=null;
        var t1=new Date()//='2017/01/05 13:31';
            t1.setHours(t1.getHours() + 12);

        timer=setInterval(test,1000);
        function test(){
            if(new Date(t1)-new Date()<=0){
            clearInterval(timer);
            alert('计时完成');
            }else{
            var y=cd(t1, new Date(), 'y');
            var d=cd(t1, new Date(), 'd');
            var h=cd(t1, new Date(), 'h');
            var m=cd(t1, new Date(), 'm');
            var s=cd(t1, new Date(), 's');
            input[0].value=y+'年'+d+'天'+h+'时'+m+'分'+s+'秒';
            }
        }
        function cd(t1, t2, tg) {
            //相差的毫秒数
            var ms = Date.parse(t1) - Date.parse(t2);
            var minutes = 1000 * 60;
            var hours = minutes * 60;
            var days = hours * 24;
            var years = days * 365;
            //求出年数
            var y=Math.floor(ms/years);
            ms%=years;
            //求出天数
            var d = Math.floor(ms / days);
            //求出除开天数，剩余的毫秒数
            ms %= days;
            var h = Math.floor(ms / hours);
            ms %= hours;
            var m = Math.floor(ms / minutes);
            ms %= minutes;
            var s = Math.floor(ms / 1000);
            //返回所需值并退出函数
            switch(tg){
            case 'y' : return y;
            case 'd' : return d;
            case 'h' : return h;
            case 'm' : return m;
            case 's' : return s;
            }
        }  
            }
    </script>
</body>
</html>
